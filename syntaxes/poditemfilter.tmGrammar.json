{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "poditemfilter",
	"patterns": [
        { "include": "#item-display-selector" },
        { "include": "#item-display-value" },
        { "include": "#comment-line" }
	],
	"repository": {
        "item-display-selector":{
            "begin": "ItemDisplay\\[",
            "end": "\\](\\s)*:",
            "patterns": [
                { "include": "#selector" },
                { "include": "#comment-line" }
            ]
        },
        "item-display-value":{
            "patterns": [
                { "include": "#value-keyword" },
                { "include": "#value-string" },
                { "include": "#comment-line" }
            ]
        },
        "selector":{
            "patterns": [
                { "include": "#selector-operator"},
                { "include": "#selector-keyword"},
                { "include": "#selector-id"},
                { "include": "#selector-number"}
            ]
        },
        "selector-operator":{
            "patterns": [{
				"name": "operator",
				"match": "(!|<|>|=|OR|AND)"
			}]
        },
        "selector-keyword":{
            "patterns": [{
				"name": "keyword",
				"match": "(NORM|EXC|ELT|INF|SUP|MAG|RARE|SET|UNI|NMAG|ETH|RW)"
			}, {
				"name": "keyword",
				"match": "(CL[1-7]|WP1[0-3]|WP[1-9]|WEAPON|EQ[1-7]|ARMOR)"
			}, {
				"name": "keyword",
				"match": "(CLVL|ILVL|SOCK|ID|GOLD|ED|RES|DEF|LIFE|IAS|FCR|GEMLEVEL|RUNE)"
			}, {
				"name": "keyword",
				"match": "(ITEMSTAT[0-9]{0,3}|CHARSTAT[0-9]{1,3}|CLSK[0-6]|ALLSK|TABSK[0-9]{1,2}|SK[0-9]{2,3})"
			}]
        },
        "selector-id":{
            "patterns": [{
				"name": "keyword",
				"match": "(?=.*[a-z])[a-z\\d]{3}"
			}]
        },
        "selector-number":{
            "patterns": [{
				"name": "number",
				"match": "([\\d+])"
			}]
        },
        "value-keyword":{
            "patterns": [{
                "name": "entity.name.function",
                "match": "%(D?GREEN|GOLD|TAN|BLUE|GRAY|WHITE|BLACK|YELLOW|ORANGE|PURPLE|RED)%"
            }, {
                "name": "variable",
                "match": "%(PRICE|ILVL|SOCKETS|CODE|NAME|CONTINUE|RUNENAME)%"
            }]
        },
        "value-string":{
            "patterns": [{
                "name": "string",
                "match": "(/(?!/)|[^%/]+)"
            }]
        },
		"comment-line": {
			"name": "comment",
			"begin": "//",
			"end": "\n"
		}
	},
	"scopeName": "source.poditemfilter"
}